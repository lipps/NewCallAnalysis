# é”€å”®é€šè¯è´¨æ£€ç³»ç»Ÿ

åŸºäºAIçš„é”€å”®é€šè¯è´¨æ£€ä¸åˆ†æç³»ç»Ÿï¼Œä½¿ç”¨LangGraphå·¥ä½œæµå¼•æ“ã€å‘é‡æ£€ç´¢å’Œå¤§è¯­è¨€æ¨¡å‹å®ç°é«˜æ€§èƒ½çš„é€šè¯è´¨é‡åˆ†æã€‚\n\n## ğŸ¯ åŠŸèƒ½ç‰¹æ€§\n\n### æ ¸å¿ƒåˆ†ææ¨¡å—\n- **ç ´å†°è¦ç‚¹æ£€æµ‹**: ä¸“ä¸šèº«ä»½ã€å¸®åŠ©ä»·å€¼ã€æ—¶é—´è¯´æ˜ã€å…¬å¸èƒŒæ™¯ã€å…è´¹è®²è§£\n- **åŠŸèƒ½æ¼”ç»æ£€æµ‹**: BSç‚¹ã€å‘¨æœŸå…±æŒ¯ã€æ§ç›˜èµ„é‡‘ã€æ­¥æ­¥é«˜ã€ä»·å€¼é‡åŒ–ã€å®¢æˆ·è‚¡ç¥¨åˆ†æ\n- **è¿‡ç¨‹æŒ‡æ ‡ç»Ÿè®¡**: é€šè¯æ—¶é•¿ã€äº’åŠ¨é¢‘ç‡ã€æˆäº¤çº¦è®¿æƒ…å†µ\n- **å®¢æˆ·ä¾§åˆ†æ**: å®¢æˆ·æ€åº¦ã€é—®é¢˜æå–ã€ä»·å€¼è®¤åŒåº¦è¯„ä¼°\n- **æ ‡å‡†åŠ¨ä½œç»Ÿè®¡**: å„é¡¹é”€å”®åŠ¨ä½œçš„æ‰§è¡Œæƒ…å†µå’Œæ¬¡æ•°ç»Ÿè®¡\n\n### æŠ€æœ¯äº®ç‚¹\n- **LangGraphå·¥ä½œæµ**: å¹¶è¡Œå¤„ç†ã€çŠ¶æ€ç®¡ç†ã€é”™è¯¯æ¢å¤\n- **å‘é‡æ£€ç´¢å¼•æ“**: è¯­ä¹‰ç›¸ä¼¼åº¦åŒ¹é…ã€çŸ¥è¯†åº“ç®¡ç†\n- **è§„åˆ™å¼•æ“**: å…³é”®è¯+æ­£åˆ™è¡¨è¾¾å¼å¿«é€Ÿæ£€æµ‹\n- **LLMéªŒè¯**: æ™ºèƒ½åˆ¤å®šå’Œè¯æ®æå–\n- **å¯è§†åŒ–Dashboard**: å®æ—¶åˆ†æã€æ‰¹é‡å¤„ç†ã€ç»Ÿè®¡å±•ç¤º\n\n## ğŸš€ å¿«é€Ÿå¼€å§‹\n\n### ç¯å¢ƒè¦æ±‚\n- Python 3.8+\n- OpenAI APIå¯†é’¥ï¼ˆæˆ–å…¼å®¹çš„LLMæœåŠ¡ï¼‰\n\n### å®‰è£…ä¾èµ–\n```bash\npip install -r requirements.txt\n```\n\n### ç¯å¢ƒé…ç½®\n```bash\ncp .env.example .env\n# ç¼–è¾‘.envæ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥\n```\n\n### ä½¿ç”¨æ–¹å¼\n\n#### 1. å‘½ä»¤è¡Œåˆ†æ\n```bash\n# å•ä¸ªé€šè¯åˆ†æ\npython main.py analyze --text \"é”€å”®ï¼šæ‚¨å¥½ï¼Œæˆ‘æ˜¯ç›Šç›Ÿæ“ç›˜æ‰‹ä¸“å‘˜...\"\n\n# ä»æ–‡ä»¶åˆ†æ\npython main.py analyze --file input.txt --output result.json\n\n# æ‰¹é‡åˆ†æ\npython main.py batch --file batch_input.json --output batch_results.json\n```\n\n#### 2. APIæœåŠ¡\n```bash\n# å¯åŠ¨APIæœåŠ¡å™¨\npython main.py server --host 0.0.0.0 --port 8000\n\n# è®¿é—®APIæ–‡æ¡£\n# http://localhost:8000/docs\n```\n\n#### 3. å¯è§†åŒ–Dashboard\n```bash\n# å¯åŠ¨Dashboard\npython main.py dashboard\n\n# è®¿é—®Dashboard\n# http://localhost:8501\n```\n\n## ğŸ“‹ APIæ¥å£\n\n### å•æ¬¡åˆ†æ\n```http\nPOST /analyze\nContent-Type: application/json\n\n{\n  \"call_id\": \"call_001\",\n  \"transcript\": \"é€šè¯è½¬å†™æ–‡æœ¬...\",\n  \"customer_id\": \"customer_001\",\n  \"sales_id\": \"sales_001\"\n}\n```\n\n### æ‰¹é‡åˆ†æ\n```http\nPOST /analyze/batch\nContent-Type: application/json\n\n{\n  \"batch_id\": \"batch_001\",\n  \"calls\": [\n    {\n      \"call_id\": \"call_001\",\n      \"transcript\": \"...\"\n    }\n  ]\n}\n```\n\n### è´¨é‡æŒ‡æ ‡\n```http\nPOST /analyze/quality\nContent-Type: application/json\n\n[CallAnalysisResultå¯¹è±¡]\n```\n\n## ğŸ“Š è¾“å‡ºæ ¼å¼\n\nç³»ç»Ÿè¾“å‡ºæ ‡å‡†JSONæ ¼å¼ï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼š\n\n```json\n{\n  \"call_id\": \"é€šè¯ID\",\n  \"icebreak\": {\n    \"professional_identity\": {\"hit\": true, \"evidence\": \"æˆ‘æ˜¯ç›Šç›Ÿæ“ç›˜æ‰‹ä¸“å‘˜\", \"confidence\": 0.95},\n    \"value_help\": {\"hit\": true, \"evidence\": \"å¸®æ‚¨æŠŠæ¡ä¹°å–ç‚¹æœºä¼š\", \"confidence\": 0.88},\n    // ...\n  },\n  \"æ¼”ç»\": {\n    \"bs_explained\": {\"hit\": true, \"evidence\": \"Bç‚¹æ˜¯ä¹°å…¥ä¿¡å·\", \"confidence\": 0.92},\n    // ...\n  },\n  \"process\": {\n    \"explain_duration_min\": 12.5,\n    \"interaction_rounds_per_min\": 1.8,\n    \"deal_or_visit\": false\n  },\n  \"customer\": {\n    \"summary\": \"è®¤å¯ï¼šè®²çš„åŠŸèƒ½ç¡®å®æœ‰å¸®åŠ©\",\n    \"questions\": [\"è¿™ä¸ªåŠŸèƒ½æ”¶è´¹å—ï¼Ÿ\"],\n    \"value_recognition\": \"æ˜¯\"\n  },\n  \"actions\": {\n    \"bs_explained\": {\"executed\": true, \"count\": 2},\n    // ...\n  }\n}\n```\n\n## ğŸ”§ ç³»ç»Ÿæ¶æ„\n\n```\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹å’ŒSchema\nâ”‚   â”œâ”€â”€ processors/      # å„åˆ†ææ¨¡å—å¤„ç†å™¨\nâ”‚   â”œâ”€â”€ engines/         # æ ¸å¿ƒå¼•æ“ï¼ˆå‘é‡ã€è§„åˆ™ã€LLMï¼‰\nâ”‚   â”œâ”€â”€ workflows/       # LangGraphå·¥ä½œæµ\nâ”‚   â”œâ”€â”€ api/            # FastAPIæ¥å£\nâ”‚   â”œâ”€â”€ dashboard/      # Streamlitå¯è§†åŒ–\nâ”‚   â”œâ”€â”€ config/         # é…ç½®ç®¡ç†\nâ”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°\nâ”œâ”€â”€ tests/              # æµ‹è¯•ç”¨ä¾‹\nâ”œâ”€â”€ data/               # æ•°æ®å­˜å‚¨\nâ””â”€â”€ logs/               # æ—¥å¿—æ–‡ä»¶\n```\n\n## âš¡ æ€§èƒ½ä¼˜åŒ–\n\n### å¹¶è¡Œå¤„ç†\n- LangGraphå¹¶è¡ŒèŠ‚ç‚¹æ‰§è¡Œ\n- å¼‚æ­¥æ‰¹é‡å¤„ç†\n- å¤šå¼•æ“ååŒå·¥ä½œ\n\n### ç¼“å­˜ç­–ç•¥\n- è§„åˆ™æ£€æµ‹ç»“æœç¼“å­˜\n- å‘é‡æ£€ç´¢ç¼“å­˜\n- LLMå“åº”ç¼“å­˜\n\n### èµ„æºç®¡ç†\n- è¿æ¥æ± ç®¡ç†\n- å†…å­˜ä¼˜åŒ–\n- é”™è¯¯æ¢å¤æœºåˆ¶\n\n## ğŸ§ª æµ‹è¯•\n\n```bash\n# è¿è¡Œæ‰€æœ‰æµ‹è¯•\npytest tests/ -v\n\n# è¿è¡Œç‰¹å®šæµ‹è¯•\npytest tests/test_workflow.py -v\n\n# æ€§èƒ½æµ‹è¯•\npytest tests/test_workflow.py::TestPerformance -v\n```\n\n## ğŸ“ˆ ç›‘æ§æŒ‡æ ‡\n\n- **ç³»ç»Ÿæ€§èƒ½**: å¤„ç†é€Ÿåº¦ã€å¹¶å‘èƒ½åŠ›ã€èµ„æºä½¿ç”¨\n- **åˆ†æè´¨é‡**: ç½®ä¿¡åº¦åˆ†å¸ƒã€å‡†ç¡®ç‡ã€è¦†ç›–ç‡\n- **ä¸šåŠ¡æŒ‡æ ‡**: ç ´å†°æˆåŠŸç‡ã€æ¼”ç»å®Œæ•´åº¦ã€å®¢æˆ·æ»¡æ„åº¦\n\n## ğŸ”¨ å¼€å‘æŒ‡å—\n\n### æ·»åŠ æ–°çš„æ£€æµ‹è§„åˆ™\n```python\n# åœ¨src/config/settings.pyä¸­æ·»åŠ \nDETECTION_RULES = {\n    \"æ–°ç±»åˆ«\": {\n        \"æ–°è¦ç‚¹\": {\n            \"keywords\": [\"å…³é”®è¯1\", \"å…³é”®è¯2\"],\n            \"patterns\": [r\"æ­£åˆ™è¡¨è¾¾å¼1\", r\"æ­£åˆ™è¡¨è¾¾å¼2\"]\n        }\n    }\n}\n```\n\n### æ‰©å±•å¤„ç†å™¨\n```python\n# ç»§æ‰¿åŸºç¡€å¤„ç†å™¨ç±»\nclass CustomProcessor(BaseProcessor):\n    async def analyze(self, processed_text, config):\n        # å®ç°è‡ªå®šä¹‰åˆ†æé€»è¾‘\n        pass\n```\n\n### è‡ªå®šä¹‰å·¥ä½œæµ\n```python\n# ä¿®æ”¹src/workflows/call_analysis_workflow.py\n# æ·»åŠ æ–°çš„å¤„ç†èŠ‚ç‚¹å’Œè¾¹è¿æ¥\n```\n\n## ğŸ“ æŠ€æœ¯æ”¯æŒ\n\nå¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚\n\n## ğŸ“„ è®¸å¯è¯\n\nMIT License"